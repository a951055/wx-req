### 微信 request 请求封装

## 1. 支持功能

> 参考 axios 实现, 使用方式上跟 axios 差不多.

> 新增云函数支持

## 2. use

```
 import { Request } from "wx-conn"; // import

 // instantiation
 let request = new Request({...your config});

 // use
 request.executeRequest({
     method:...,
     url:...,
     data:...
 }).[then or catch];

 // single use

 request.get(url,data,options?).[then or catch]

 // global use

 global.request = request; // demo 1

 // or push request to global properties.

```

### note

1. 请求预处理跟 response 解析尽量封装为公共方法,放到 transfromRequest 和 transformResponse 中处理
2. 云函数返回值, 云函数返回值要加壳,跟 request 请求后端拿到返回值尽量一致,这样可以省去一些返回值解析上面的麻烦
3. 如果确认不一致的情况下, 建议在 transformResponse 中,单独加一个云函数结果解析器.根据 requestOptions 判断
4. cookies 功能写出来以后我没测试过,尽量不要用。
